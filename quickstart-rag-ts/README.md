---
page_type: sample
languages:
  - typescript
  - nodejs
name: TypeScript quickstart for RAG
description: |
  Learn how to send search results from Azure AI Search to an Azure OpenAI chat completion model using the Azure SDK for Javascript/Typescript.
products:
  - azure
  - azure-cognitive-search
urlFragment: typescript-rag-quickstart
---

# TypeScript quickstart for RAG in Azure AI Search

![Quickstart sample MIT license badge](https://img.shields.io/badge/license-MIT-green.svg)

Demonstrates using TypeScript and the [Azure SDK for JavaScript/TypeScript](https://learn.microsoft.com/javascript/api/overview/azure/search-documents-readme?view=azure-node-latest) to query an Azure AI Search index and send the results to a chat completion model that provides an answer.

This Node.js console application is featured in [Quickstart: Generative search (RAG) using grounding data from Azure AI Search](https://learn.microsoft.com/azure/search/search-get-started-rag&pivots=typescript). This sample uses the [Azure SDK for JavaScript/TypeScript](https://www.npmjs.com/package/@azure/search-documents) and runs on a search service using connection information that you provide.

## Prerequisites

+ [Azure AI Search](https://learn.microsoft.com/azure/search/search-create-service-portal), Basic pricing tier or higher, with the [hotels-sample-index](https://learn.microsoft.com/azure/search/search-get-started-portal). The sample index must have a [default semantic configuration](https://learn.microsoft.com/azure/search/search-get-started-rag&pivots=javascript#create-an-index).

+ [Azure OpenAI](https://learn.microsoft.com/azure/ai-services/openai/how-to/create-resource) with a deployment of a chat completion model, such as GPT-4.1 or GPT-4.1-mini.

+ [Visual Studio Code](https://code.visualstudio.com) or another IDE.

+ [Node.JS with LTS](https://nodejs.org/en/download/).

+ [TypeScript](https://www.typescriptlang.org/download/). We recommend a global installation: `npm install -g typescript`. You might also need `npm install @types/node` to support type definitions.

## Set up permissions

We recommend reviewing [access configuration](https://learn.microsoft.com/azure/search/search-get-started-rag#configure-access) for detailed instructions. Otherwise, if you're familiar with role-based access, you must be a member of these roles on Azure AI Search:

+ Search Service Contributor
+ Search Index Data Contributor
+ Search Index Data Reader

On Azure OpenAI, you must be a member of Cognitive Services OpenAI User.

## Set up the sample

1. Clone or download this sample repository.

1. Open the folder in Visual Studio Code and open a terminal window for command line operations.

1. Navigate to the quickstart folder:

   ```cmd
   cd quickstart-rag-ts
   ```

1. Create a new package for ESM modules in your project directory. You should have `package-lock.json` and `package.json` when you complete this step.

    ```cmd
    npm init -y
    npm pkg set type=module
    ```

1. Edit the file `sample.env`, adding the connection information that's valid for your Azure resources, and then saving is as `.env`.

   ```cmd
    AZURE_SEARCH_ENDPOINT=YOUR-SEARCH-SERVICE-ENDPOINT-GOES-HERE
    AZURE_SEARCH_INDEX_NAME=hotels-sample-index
    
    AZURE_OPENAI_ENDPOINT=YOUR-AZURE-OPENAI-ENDPOINT-GOES-HERE
    AZURE_OPENAI_VERSION=2024-04-01-preview
    AZURE_DEPLOYMENT_MODEL=gpt-4o-mini
   ```

1. Install the packages used in this sample. You should see a `node_modules` folder when you complete this step.

    ```cmd
    npm install @azure/identity @azure/search-documents openai dotenv
    ```

## Run the sample

1. Open the quickstart-rag-ts folder and find the `tsconfig.json` file. This is the configuration file that specifies the source files.

1. Build the TypeScript code to JavaScript. Both `.ts` files in `src` now have `.js` equivalents in the `dist` folder.

   ```cmd
   tsc
   ```

1. Open the `dist` folder and notice the `query.js` file. This is the source code for this sample, compiled from TypeScript.

1. Run the code from the root folder. The `.env` is passed into the runtime using the `-r dotenv/config`.

   ```cmd
   node -r dotenv/config dist/query.js
   ```

1. You should get output consisting of recommendations for several hotels. This output is generated by the chat completion model, which grounds its answer using the search results from the query.

1. A second JavaScript file has a more complex prompt that adds more structure to the output. The extra information includes a hotel address, description, tags, and hotel room pricing.

   ```cmd
   node -r dotenv/config dist/queryComplex.js
   ```

## Next steps

You can learn more about Azure AI Search on the [official documentation site](https://learn.microsoft.com/azure/search/).

You can view additional samples for JavaScript/TypeScript in the [azure-sdk-for-js repo](https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/search/search-documents/samples) or see the [documentation](https://learn.microsoft.com/javascript/api/overview/azure/search-documents-readme?view=azure-node-latest).
